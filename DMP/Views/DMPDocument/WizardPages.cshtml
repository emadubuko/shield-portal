@model  DMP.ViewModel.EditDocumentViewModel2
@{
    ViewBag.Title = "Edit Documnet";
}
@section AddToHead{
    @Styles.Render("~/bundles/CreateDMPCss") 
<link href="~/Content/jquery-ui.css" rel="stylesheet" />
@*<link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">*@

    <style>
        .panel-default {
            border-color: #929b17;
        }
            .panel-default > .panel-heading {
                color: #FFF;
                background-color: #929b17;
                border-color: #929b17;
                padding: 5px 50px;
            }
            label{
                font-weight:bold;
            }
    </style>
    <script src="~/Scripts/Ultilities.js"></script>
    <script type="text/javascript">
        

        function EnableDisableEthicalApproval(e) {
            if (e.value == "Yes") {
                $("#EthicalApprovalDiv").show();
            }
            else {
                $("#EthicalApprovalDiv").hide();
            }
        }
         

        function imageSelected(e) {
            imagePreview(e, $('#FlowChartimageURL'));
        }

        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        var editMode = true;

        var DataCollectionArrayFromServer = @Html.Raw(Json.Encode(Model.dataCollection));
        var datacollectionArray = [];
        var TrainingArrayFromServer = @Html.Raw(Json.Encode(Model.Trainings));
        var trainingArray = [];
        var DataVerificationArrayFromServer = @Html.Raw(Json.Encode(Model.dataVerification));
        var DataVerificationArray =[];
       var ReportArrayFromServer =  @Html.Raw(Json.Encode(Model.reportDataList));//to be discarded
        var reportArray = [];

        function DeleteRow(row) {

            if(row.id.indexOf("report") !== -1){
            var rowid = row.id.split('x')[1];
                $(row).remove();
                reportArray.splice(rowid-1, 1);
            }
            else  if(row.id.indexOf('datacollection') !==-1){
                $(row).remove();
                var rowid = row.id.split('x')[1];
                datacollectionArray.splice(row-1, 1);
            }
            else  if(row.id.indexOf('dataverification') !==-1){
                $(row).remove();
                var rowid = row.id.split('x')[1];
                DataVerificationArray.splice(row-1, 1);
            }
            else  if(row.id.indexOf('training') !== -1){
                var rowid = row.id.split('x')[1];
                $(row).remove();
                trainingArray.splice(row-1, 1);
            }            
        }

    </script>

}
<div class="main-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading clearfix">
                    <h4 class="panel-title">Complete the DMP Document</h4>
                </div>
                <div class="panel-body">
                    <form id="rootwizard-2" class="form-wizard validate-form-wizard validate" novalidate="novalidate">
                        <div class="wizard-navbar">
                            <ul class="wizard-steps">
                                <li class="active"><a href="#ProjectProfile" data-toggle="tab" aria-expanded="false"><span>1</span> Project Profile</a></li>
                                <li><a href="#Planning" data-toggle="tab"><span>2</span>Planning</a></li>
                                <li><a href="#DataCollectionProcesses" data-toggle="tab"><span>3</span>Processes</a></li>
                                <li><a href="#DataCollection" data-toggle="tab"><span>4</span>Data Collection</a></li>
                                <li><a href="#MonitoringEvaluationSystems" data-toggle="tab"><span>5</span>M&E Systems</a></li>
                                <li><a href="#QualityAssurance" data-toggle="tab"><span>6</span>Quality Assurance</a></li>
                                <li><a href="#Reports" data-toggle="tab"><span>7</span>Reports</a></li>
                                <li><a href="#DataStorage" data-toggle="tab"><span>8</span>Data Storage</a></li>
                                <li><a href="#IntellectualPropertyCopyrightAndOwnership" data-toggle="tab"><span>9</span>Copyright</a></li>
                                <li><a href="#DataAccessAndSharing" data-toggle="tab"><span>10</span>Data Access</a></li>
                                <li><a href="#DataDocumentationManagementAndEntry" data-toggle="tab"><span>11</span>Data Entry</a></li>
                                <li><a href="#PostProjectDataRetentionSharingAndDestruction" data-toggle="tab"><span>12</span>Data Retention</a></li>
                            </ul>
                        </div>
                        <hr />

                        <div class="tab-content">
                            <img id="loadImg" style="display:none" class="center" src="~/images/spinner.gif" width="36">

                            <div class="tab-pane active" id="ProjectProfile">
                                <h4 class="panel-title" style="margin-left: 90px;">
                                    <b>Project Profile</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="ProjectDetails">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Project Details</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="ProjectTitle">Project Title</label>
                                                <div class="col-sm-9">
                                                    <input type="text" placeholder="Project Title" value="@Model.projectDetails.ProjectTitle" id="ProjectTitle" required class="form-control">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DocumentTitle">Document Title</label>
                                                <div class="col-sm-9">
                                                    <input type="text" placeholder="Document Title" id="DocumentTitle" value="@Model.projectDetails.DocumentTitle" required class="form-control">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="organization">Organization</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="organization" disabled value="@Model.Organization.Name" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="organization">Abreviation of Implementing Partner</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="organization" disabled value="@Model.Organization.ShortName" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="MissionPartner">Mission Partner</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="MissionPartner" disabled value="@Model.Organization.MissionPartner" class="form-control">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="leadactivitymanagerId">Lead Activity Manager</label>
                                                <div class="col-sm-9">
                                                    <select id="leadactivitymanagerId" class="form-control">
                                                        <option value="" disabled selected>Select Lead activity manager</option>
                                                        @foreach (var item in Model.Profiles)
                                                        {
                                                            if (Model.projectDetails.LeadActivityManager != null && @item.Key == Model.projectDetails.LeadActivityManager.Id)
                                                            {
                                                                <option value="@item.Key" selected>@item.Value.FullName</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@item.Key">@item.Value.FullName</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="AddressofOrganization">Address of Organization</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="AddressofOrganization" disabled value="@Model.Organization.Address" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="AddressofOrganization">Phone Number</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="PhoneNumber" disabled value="@Model.Organization.PhoneNumber" class="form-control">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="ProjectStartDate">Project Start Date</label>
                                                <div class="col-sm-9">
                                                    <input id="ProjectStartDate" type="text" placeholder="Project Start Date" value="@Model.projectDetails.ProjectStartDate" class="form-control">
                                                    @*<div id="date-popup" class="input-group date">
                                            <input id="ProjectStartDate" type="text" placeholder="Project Start Date" value="@Model.projectDetails.ProjectStartDate" data-format="D, dd MM yyyy" class="form-control">
                                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        </div>*@
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label">Project End Date</label>
                                                <div class="col-sm-9">
                                                    <input type="text" id="ProjectEndDate" placeholder="Project End Date" value="@Model.projectDetails.ProjectEndDate" data-format="D, dd MM yyyy" class="form-control">
                                                    @*<div id="date-popup2" class="input-group date">
                                            <input type="text" id="ProjectEndDate" placeholder="Project End Date" value="@Model.projectDetails.ProjectEndDate" data-format="D, dd MM yyyy" class="form-control">
                                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        </div>*@
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="GrantReferenceNumber">Grant Reference Number</label>
                                                <div class="col-sm-9">
                                                    <input type="text" placeholder="Grant Reference Number" id="GrantReferenceNumber" value="@Model.projectDetails.GrantReferenceNumber" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end of project details section-->

                                <div class="panel panel-default" id="EthicsApproval">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Ethics Approval</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="EthicalApprovalForTheProject">Ethical Approval For the Project</label>
                                                <div class="col-sm-5">
                                                    <select id="EthicalApprovalForTheProject" onchange="EnableDisableEthicalApproval(this)" class="form-control">
                                                        <option value="" selected disabled>Do you have ethical approval for this project? </option>
                                                        @if (Model.ethicsApproval != null)
                                                        {
                                                            foreach (var item in Model.YesNoOption)
                                                            {
                                                                if (@item == Model.ethicsApproval.EthicalApprovalForTheProject)
                                                                {
                                                                    <option value="@item" selected>&nbsp;@item</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item">&nbsp;@item</option>
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            foreach (var item in Model.YesNoOption)
                                                            {
                                                                <option value="@item">&nbsp;@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group" id="EthicalApprovalDiv">
                                                <label class="col-sm-4 control-label" for="TypeOfEthicalApproval">Type of Ethical Approval</label>
                                                <div class="col-sm-5">
                                                    <select id="TypeOfEthicalApproval" class="form-control">
                                                        <option value="" disabled selected>What type of ethical approval applies to this project.</option>
                                                        @if (Model.ethicsApproval != null)
                                                        {
                                                            foreach (var item in Model.ethicalApprovalTypes)
                                                            {
                                                                if (@item == Model.ethicsApproval.TypeOfEthicalApproval)
                                                                {
                                                                    <option value="@item" selected>&nbsp;@item</option>
                                                                }
                                                                else
                                                                {
                                                                    <option value="@item">&nbsp;@item</option>
                                                                }
                                                            }
                                                        }
                                                        else
                                                        {
                                                            foreach (var item in Model.ethicalApprovalTypes)
                                                            {
                                                                <option value="@item">&nbsp;@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--End of ethic approval section-->
                            </div>
                            <!-- end of Project profile page-->

                            <div class="tab-pane" id="Planning">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Planning</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="Summary">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Summary</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="ProjectObjectives" class="control-label">Project Objectives</label> &nbsp;
                                                    <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe program objectives and strategies to be employed in meeting the objectives."><i class="icon-help"></i></button>

                                                    @if (@Model.summary == null)
                                                    {
                                                        <textarea id="ProjectObjectives" placeholder="summarize in not more than 500 words" class="form-control" rows="3"></textarea>
                                                    }
                                                    else
                                                    {
                                                        <textarea id="ProjectObjectives" placeholder="summarize in not more than 500 words" class="form-control" rows="3">@Model.summary.ProjectObjectives</textarea>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end of Summary section-->
                            </div>
                            <!-- end of Planning page-->

                            <div class="tab-pane" id="DataCollectionProcesses">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Data Collection Processes</b>
                                </h4>
                                <hr />
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="DataCollectionProcessess" class="control-label">Data Collection Processes</label>
                                            <button type="button" class="btn btn-black btn-outline btn-sm" title="Is there a clearly written documentation on data handling and entry? Describe data handling processes."><i class="icon-help"></i></button>
                                            @if (Model.datacollectionProcesses != null)
                                            {
                                                <textarea id="DataCollectionProcessess" class="form-control" rows="3">@Model.datacollectionProcesses.DataCollectionProcessess</textarea>
                                            }
                                            else
                                            {
                                                <textarea id="DataCollectionProcessess" class="form-control" rows="3"></textarea>
                                            }

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end of Data Collection Processes page-->

                            <div class="tab-pane" id="DataCollection">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Data Collection</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="Data">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Data</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal" id="datacollectionForm">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataType">Data Type</label>
                                                <div class="col-sm-8">
                                                    <select id="DataType" class="form-control">
                                                        <option value="" disabled selected>What types of data are collected ?</option>
                                                        @foreach (var item in Model.reportDataType)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataSources">Data Sources</label>
                                                <div class="col-sm-8">
                                                    <select id="DataSources" class="form-control">
                                                        <option value="" disabled selected>What are the sources of your of data?</option>
                                                        @foreach (var item in Model.dataSourcesTypes)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataCollectionAndReportingTools">Data Collection and Reporting Tools</label>
                                                <div class="col-sm-8">
                                                    <select id="DataCollectionAndReportingTools" class="form-control">
                                                        <option value="" disabled selected>What tools are used for data collection and reporting? List</option>
                                                        @foreach (var item in Model.reportingTools)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>

                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="FrequencyOfDataCollection">Frequency of Data Collection</label>
                                                <div class="col-sm-8">
                                                    <select id="FrequencyOfDataCollection" class="form-control">
                                                        <option value="" disabled selected>What tools are used for data collection and reporting? List</option>
                                                        @foreach (var item in Model.dataFrequency)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataCollectionTimelines">Milestones</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Select the deadline dates attached to this data collection activity."><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    <input type="text" placeholder="Select the deadline dates attached to this data collection activity" id="DataCollectionTimelines" class="form-control">
                                                    <label style="color:red;">Please select dates corresponding to the frequency selected above</label>
                                                </div>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DurationOfDataCollection">Duration of data collection</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What is the duration assigned for data collection? numbers only"><i class="icon-help"></i></button>
                                                <div class="col-sm-2">
                                                    <select id="dtDurationdrpdwn" class="form-control">
                                                        <option value="" disabled selected>Select</option>
                                                        @foreach (var item in Model.Duration)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" id="dtDurationField" placeholder="" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-sm-offset-9">
                                                <a class="btn btn-black btn-sm btn-outline" id="adddatacollectionbtn">Add to list</a>
                                            </div>
                                        </div>

                                        <div class="table-responsive">
                                            <table class="table table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Data Type</th>
                                                        <th>Data Sources</th>
                                                        <th>Frequency</th>
                                                        <th>Duration (days)</th>
                                                        <th>Tools</th>
                                                        <th>Timelines</th>
                                                        <th></th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody id="datacollectiondataTable"> </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--End--of-Data collection-->

                            <div class="tab-pane" id="MonitoringEvaluationSystems">
                                <div class="panel panel-default">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title" style="margin-left: 70px;">
                                            <b>Monitoring & Evaluation Systems (M&E)</b>
                                        </h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataFlowChart">Data Flow Chart</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe the levels of data flow using a Flow Chart diagram  e.g Facility--LGA--State--National"><i class="icon-help"></i></button>
                                                <div class="col-sm-7">
                                                    <input type="file" onchange="imageSelected(this)" accept="image/*" id="DataFlowChart" class="form-control">
                                                    <img id="FlowChartimageURL" height="100">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="AdditionalInformation">Additional Information</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Provide an additional information/explanation regarding the flow chart uploaded "><i class="icon-help"></i></button>
                                                <div class="col-sm-7">
                                                    <textarea type="text" rows="3" id="AdditionalInformation" placeholder="Provide an additional information/explanation regarding the flow chart uploaded" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>

                                        @*<div class="panel panel-default" id="RoleAndResponsibilities">
                                            <div class="panel-heading clearfix">
                                                <h4 class="panel-title">Role And Responsibilities</h4>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-horizontal">
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="HealthFacilityLevel">Health Facility level</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe roles and responsibilities of stakeholders at this level"><i class="icon-help"></i></button>
                                                        <div class="col-sm-8">
                                                            @if (Model.roleNresp != null)
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" value="@Model.roleNresp.HealthFacilityLevel" id="HealthFacilityLevel" class="form-control">
                                                            }
                                                            else
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" id="HealthFacilityLevel" class="form-control">
                                                            }
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="AggregationLevel">Aggregation Level</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe roles and responsibilities of stakeholders at this level"><i class="icon-help"></i></button>
                                                        <div class="col-sm-8">
                                                            @if (Model.roleNresp != null)
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" id="AggregationLevel" value="@Model.roleNresp.AggregationLevel" class="form-control">
                                                            }
                                                            else
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" id="AggregationLevel" value="" class="form-control">
                                                            }
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="CentralNationalLevel">Central/National Level</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe roles and responsibilities of stakeholders at this level"><i class="icon-help"></i></button>
                                                        <div class="col-sm-8">
                                                            @if (Model.roleNresp != null)
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" id="CentralNationalLevel" value="@Model.roleNresp.CentralNationalLevel" class="form-control">
                                                            }
                                                            else
                                                            {
                                                                <input type="text" placeholder="Describe roles and responsibilities of stakeholders at this level" id="CentralNationalLevel" value="" class="form-control">
                                                            }

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>*@
                                        <!--End of RoleNResponsibilities section-->

                                        <div class="panel panel-default" id="Trainings">
                                            <div class="panel-heading clearfix">
                                                <h4 class="panel-title">Trainings</h4>
                                            </div>
                                            <div class="panel-body">
                                                <div class="form-horizontal" id="trainingForm">
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="NameOfTraining">Name of Trainings</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="What is this training for"><i class="icon-help"></i></button>
                                                        <div class="col-sm-8">
                                                            <input type="text" placeholder="What is this training for" id="NameOfTraining" value="" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="FequencyOfTrainings">Frequency of trainings</label>
                                                        <div class="col-sm-8">
                                                            <select id="FequencyOfTrainings" class="form-control">
                                                                <option value="" disabled selected>How frequent will this trainings occur?</option>
                                                                @foreach (var item in Model.dataFrequency)
                                                                {
                                                                    <option value="@item">@item</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="TimelinesForTrainings">Training Milestones</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="select the applicable deadline dates for this trainings"><i class="icon-help"></i></button>
                                                        <div class="col-sm-8">
                                                            <input type="text" placeholder="select applicable deadline dates for this trainings" id="TimelinesForTrainings" value="" class="form-control">
                                                            <label style="color:red;">Please select dates corresponding to the frequency selected above</label>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label class="col-sm-3 control-label" for="DurationOfTrainings">Duration of trainings</label>
                                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="What is the duration assigned for this trainings? numbers only"><i class="icon-help"></i></button>
                                                        <div class="col-sm-2">
                                                            <select id="trDurationdrpdwn" class="form-control">
                                                                <option value="" disabled selected>Select</option>
                                                                @foreach (var item in Model.Duration)
                                                                {
                                                                    <option value="@item">@item</option>
                                                                }
                                                            </select>
                                                        </div>
                                                        <div class="col-sm-2">
                                                            <input type="number" id="trDurationField" placeholder="" class="form-control">
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-offset-9">
                                                        <a class="btn btn-black btn-sm btn-outline" id="addtrainingbtn">Add to list</a>
                                                    </div>
                                                </div>
                                                <div class="table-responsive">
                                                    <table class="table table-striped">
                                                        <thead>
                                                            <tr>
                                                                <th>Name</th>
                                                                <th>Frequency</th>
                                                                <th>Duration (days)</th>
                                                                <th>Timelines</th>
                                                                <th></th>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody id="trainingTable"> </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                        <!--End of Tranings section-->
                                    </div>
                                </div>
                            </div>
                            <!-- end of Data M&E page-->

                            <div class="tab-pane" id="QualityAssurance">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Quality Assurance</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="DataVerification">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Data Validation</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal" id="dataVerificationForm">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="DataVerificationApproach">Data validation approach</label>
                                                <div class="col-sm-6">
                                                    <select id="DataVerificationApproach" class="form-control">
                                                        <option value="" disabled selected>What methodology is employed for data validation ? </option>
                                                        @foreach (var item in Model.DataVerificationApproach)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="TypesOfDataVerification">Types of Data validation</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Soft - checks &#013; Cross - checks of data sources &#013; Document reviews &#013; Trace verification &#013; Rountine Data Quality Assessment &#013; Data Quality Audit &#013 Others"><i class="icon-help"></i></button>
                                                <div class="col-sm-6">
                                                    <input type="text" placeholder="What forms and tools are used for validating data sources" id="TypesOfDataVerification" value="" class="form-control">
                                                    @*<select id="TypesOfDataVerification" class="form-control">
                                            <option value="" disabled selected>Select Types of Data Verification</option>
                                            @foreach (var item in Model.typesOfDataVerification)
                                            {
                                                if (Model.dataVerification != null)
                                                {
                                                    if (@item == Model.dataVerification.TypesOfDataVerification)
                                                    {
                                                        <option value="@item" selected>@item</option>
                                                    }
                                                    else
                                                    {
                                                        <option value="@item">@item</option>
                                                    }
                                                }
                                                else
                                                {
                                                    <option value="@item">@item</option>
                                                }
                                            }
                                        </select>*@
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="FrequencyOfDataVerification">Frequency of data validation</label>
                                                <div class="col-sm-6">
                                                    <select id="FrequencyOfDataVerification" class="form-control">
                                                        <option value="" disabled selected>How frequent will data validation be carried out?</option>
                                                        @foreach (var item in Model.dataFrequency)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="TimelinesForDataVerification">Milestones</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Select the applicable timelines for this data validation"><i class="icon-help"></i></button>
                                                <div class="col-sm-6">
                                                    <input type="text" placeholder="What are the timelines for this data validation" id="TimelinesForDataVerification" value="" class="form-control">
                                                    <label style="color:red;">Please select dates corresponding to the frequency selected above</label>
                                                </div>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="DurationOfDataVerificaion">Duration</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What is the duration of this data validation excercise? numbers only"><i class="icon-help"></i></button>
                                                <div class="col-sm-2">
                                                    <select id="dvDurationdrpdwn" class="form-control">
                                                        <option value="" disabled selected>Select</option>
                                                        @foreach (var item in Model.Duration)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" id="dvDurationField" placeholder="" class="form-control">
                                                </div>
                                            </div>
                                            <div class="col-sm-offset-9">
                                                <a class="btn btn-black btn-sm btn-outline" id="addDataVerificationbtn">Add to List</a>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Verification Approach</th>
                                                        <th>Types</th>
                                                        <th>Frequency</th>
                                                        <th>Duration</th>
                                                        <th>Timelines</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody id="dataVerificationTable"> </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>
                                <!--End of Data verificaton section-->
                            </div>
                            <!-- end of Quality Assurance page-->

                            <div class="tab-pane" id="Reports">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Reports</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="ReportData">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Data Report </h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal" id="reportdatadiv">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="NameOfReport">Name of Report</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What types of reports are collated from data?"><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    <input type="text" placeholder="What types of reports are collated from data?" value="" id="NameOfReport" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="ThematicArea">Thematic Area</label>
                                                <div class="col-sm-8">
                                                    <select id="ThematicArea" class="form-control">
                                                        <option value="" disabled selected>What thematic areas are reported on?</option>
                                                        @foreach (var item in Model.thematicAreas)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="FrequencyOfReporting">Frequency of reporting</label>
                                                <div class="col-sm-8">
                                                    <select id="FrequencyOfReporting" class="form-control">
                                                        <option value="" disabled selected>State the frquency of reporting</option>
                                                        @foreach (var item in Model.dataFrequency)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="TimelinesForReporting">Milestone</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Clearly state the timelines for this reporting excercise"><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    <input type="text" placeholder="Clearly state the timelines for this reporting excercise" id="TimelinesForReporting" value="" class="form-control">
                                                    <label style="color:red;">Please select dates corresponding to the frequency selected above</label>
                                                </div>
                                            </div>
                                            
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DurationOfReporting">Duration of reporting</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="state the duration of time assigned for reporting? numbers only"><i class="icon-help"></i></button>
                                                <div class="col-sm-2">
                                                    <select id="rptDurationdrpdwn" class="form-control">
                                                        <option value="" disabled selected>Select</option>
                                                        @foreach (var item in Model.Duration)
                                                        {
                                                            <option value="@item">@item</option>
                                                        }
                                                    </select>
                                                </div>
                                                <div class="col-sm-2">
                                                    <input type="number" id="rptDurationField" placeholder="" class="form-control">
                                                </div>
                                            </div> 
                                            <div class="col-sm-offset-9">
                                                <a class="btn btn-black btn-sm btn-outline" id='addReportbtn'>Add to list</a>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Thematic Area</th>
                                                        <th>Frequency</th>
                                                        <th>Duration</th>
                                                        <th>Timelines</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody id="reportdataTable"> </tbody>
                                            </table>
                                        </div>

                                    </div>
                                </div>
                                <!--End of Report Data section -->
                            </div>
                            <!--End of reports-->

                            <div class="tab-pane" id="DataStorage">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Data Storage</b>
                                </h4>
                                <hr />
                                <div class="panel panel-default" id="Digital">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Digital</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="VolumeOfdigitalData">Volume of Digital Data</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Provide an estimated figure for the volume of digital data"><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    @if (Model.digital != null)
                                                    {
                                                    <input type="text" placeholder="Provide an estimated figure for the volume of digital data" id="VolumeOfdigitalData" value="@Model.digital.VolumeOfdigitalData" class="form-control">
                                                    }
                                                    else
                                                    {
                                                    <input type="text" placeholder="Provide an estimated figure for the volume of digital data" id="VolumeOfdigitalData" value="" class="form-control">
                                                    }
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataStorageFormat">Data Storage format</label>
                                                <div class="col-sm-8">
                                                    <select id="DataStorageFormat" class="form-control">
                                                        <option value="" disabled selected>Select Storage type</option>
                                                        @foreach (var item in Model.storageformats)
                                                        {
                                                            if (Model.digital != null)
                                                            {
                                                                if (@item == Model.digital.Storagetype)
                                                                {
                                                        <option value="@item" selected>@item</option>
                                                                }
                                                                else
                                                                {
                                                        <option value="@item">@item</option>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <option value="@item">@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="Storagelocation">Storage Location</label>
                                                <div class="col-sm-8">
                                                    <select id="Storagelocation" class="form-control">
                                                        <option value="" disabled selected>Do you have a specified location for storing data collected?</option>
                                                        @foreach (var item in Model.YesNoOption)
                                                        {
                                                            if (Model.digital != null)
                                                            {
                                                                if (@item == Model.digital.Storagelocation)
                                                                {
                                                        <option value="@item" selected>@item</option>
                                                                }
                                                                else
                                                                {
                                                        <option value="@item">@item</option>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <option value="@item">@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="Backup">Backup?</label>
                                                <div class="col-sm-8">
                                                    <select id="Backup" class="form-control">
                                                        <option value="" disabled selected>Do you have a back up plan arrangement for data storage?</option>
                                                        @foreach (var item in Model.YesNoOption)
                                                        {
                                                            if (Model.digital != null)
                                                            {
                                                                if (@item == Model.digital.Backup)
                                                                {
                                                        <option value="@item" selected>@item</option>
                                                                }
                                                                else
                                                                {
                                                        <option value="@item">@item</option>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <option value="@item">@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="Datasecurity">Data Security</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What security measures are in-place to protect data"><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    @if (Model.digital != null)
                                                    {
                                                    <input type="text" placeholder="What security measures are in-place to protect data." id="Datasecurity" value="@Model.digital.Datasecurity" class="form-control">
                                                    }
                                                    else
                                                    {
                                                    <input type="text" placeholder="What security measures are in-place to protect data." id="Datasecurity" class="form-control">
                                                    }
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="Patientconfidentialitypolicies">Patient Confidentiality Policies</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What guidelines or policies are in-place for patient confidentiality protection"><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    @if (Model.digital != null)
                                                    {
                                                    <input type="text" placeholder="What guidelines or policies are in-place for patient confidentiality protection" value="@Model.digital.Patientconfidentialitypolicies" id="Patientconfidentialitypolicies" class="form-control">
                                                    }
                                                    else
                                                    {
                                                    <input type="text" placeholder="What guidelines or policies are in-place for patient confidentiality protection" id="Patientconfidentialitypolicies" class="form-control">
                                                    }
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="StorageOfPreExistingData">Storage of Pre-Existing Data</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Provide details of any stored pre-existing data if any (archiving) Describe."><i class="icon-help"></i></button>
                                                <div class="col-sm-8">
                                                    @if (Model.digital != null)
                                                    {
                                                    <textarea type="text" value="@Model.digital.StorageOfPreExistingData" id="StorageOfPreExistingData" class="form-control"></textarea>
                                                    }
                                                    else
                                                    {
                                                    <textarea type="text" id="StorageOfPreExistingData" class="form-control"></textarea>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end of Digital data section-->

                                <div class="panel panel-default" id="NonDigital">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Non-Digital</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="NonDigitalDataTypes">Non-Digital Data Types</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="What types of non-digital data will be collected and stored?"><i class="icon-help"></i></button>
                                                <div class="col-sm-6">
                                                    <select id="NonDigitalDataTypes" class="form-control">
                                                        <option value="" disabled>What types of non-digital data will be collected and stored</option>
                                                        @foreach (var item in Model.nonDigitalDataTypes)
                                                        {
                                                            if (Model.nonDigital != null)
                                                            {
                                                                if (@item == Model.nonDigital.NonDigitalDataTypes)
                                                                {
                                                        <option value="@item" selected>@item</option>
                                                                }
                                                                else
                                                                {
                                                        <option value="@item">@item</option>
                                                                }
                                                            }
                                                            else
                                                            {
                                                        <option value="@item">@item</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="NonDigitalStorageLocation">Non-digital Storage Location</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Do you have a specified location for storing non-digital data collected? Describe."><i class="icon-help"></i></button>
                                                <div class="col-sm-6">
                                                    @if (Model.nonDigital != null)
                                                    {
                                                    <input type="text" placeholder="Do you have a specified location for storing non-digital data collected? Describe" value="@Model.nonDigital.SafeguardsAndRequirements" id="NonDigitalStorageLocation" class="form-control">
                                                    }
                                                    else
                                                    {
                                                    <input type="text" placeholder="Do you have a specified location for storing non-digital data collected? Describe" id="NonDigitalStorageLocation" class="form-control">
                                                    }
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-4 control-label" for="SafeguardsAndRequirements">Safeguards and Requirements</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe any security and environmental requirements for the storage of this data."><i class="icon-help"></i></button>
                                                <div class="col-sm-6">
                                                    @if (Model.nonDigital != null)
                                                    {
                                                    <input type="text" placeholder="Safeguards and Requirements" value="@Model.nonDigital.SafeguardsAndRequirements" id="SafeguardsAndRequirements" class="form-control">
                                                    }
                                                    else
                                                    {
                                                    <input type="text" placeholder="Safeguards and Requirements" id="SafeguardsAndRequirements" class="form-control">
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end of non digital data section -->
                            </div>
                            <!-- end of Data Storage page-->

                            <div class="tab-pane" id="IntellectualPropertyCopyrightAndOwnership">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Intellectual Property Copyright and Ownership</b>
                                </h4>
                                <hr />
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="ContractsAndAgreements">Contracts and Agreements</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Identify any agreements or contracts that apply to this project"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.intelProp != null)
                                            {
                                            <textarea type="text" placeholder="Identify any agreements or contracts that apply to this project" id="ContractsAndAgreements" class="form-control">@Model.intelProp.ContractsAndAgreements</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Identify any agreements or contracts that apply to this project" id="ContractsAndAgreements" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="Ownership">Ownership</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="State who will own the copyright and other IP of any data that you will collect "><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.intelProp != null)
                                            {
                                            <textarea type="text" placeholder="State who will own the copyright and other IP of any data that you will collect " id="Ownership" class="form-control">@Model.intelProp.Ownership</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="State who will own the copyright and other IP of any data that you will collect " id="Ownership" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="UseOfThirdPartyDataSources">Use of Third Party Data Sources</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe guidelines for use of 3rd party data sources"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.intelProp != null)
                                            {
                                            <textarea type="text" placeholder="Describe guidelines for use of 3rd party data sources" id="UseOfThirdPartyDataSources" class="form-control">@Model.intelProp.UseOfThirdPartyDataSources</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Describe guidelines for use of 3rd party data sources" id="UseOfThirdPartyDataSources" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end of Intellectual Property Copyright And Ownership page-->


                            <div class="tab-pane" id="DataAccessAndSharing">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Data Access and Sharing</b>
                                </h4>
                                <hr />
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="DataAccess">Data Access</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Indicate whom you will share the data with, and under what conditions include formal agreement"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.dataSharing != null)
                                            {
                                            <textarea type="text" placeholder="Indicate whom you will share the data with, and under what conditions include formal agreement" id="DataAccess" class="form-control">@Model.dataSharing.DataAccess</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Indicate whom you will share the data with, and under what conditions include formal agreement" id="DataAccess" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="DataSharingPolicies">Data Sharing Policies</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="What data sharing policies are in-place? Describe"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.dataSharing != null)
                                            {
                                            <textarea type="text" placeholder="What data sharing policies are in-place? Describe" id="DataSharingPolicies" class="form-control">@Model.dataSharing.DataSharingPolicies</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="What data sharing policies are in-place? Describe" id="DataSharingPolicies" class="form-control"></textarea>
                                            }

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="DataTransmissionPolicies">Data Transmission Policies</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Describe policies for data transimission"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.dataSharing != null)
                                            {
                                            <textarea type="text" placeholder="Describe policies for data transimission" id="DataTransmissionPolicies" class="form-control">@Model.dataSharing.DataTransmissionPolicies</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Describe policies for data transimission" id="DataTransmissionPolicies" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="SharingPlatForms">Sharing PlatForms</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="How will data be shared during the active stage of the project?"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.dataSharing != null)
                                            {
                                            <textarea type="text" placeholder="How will data be shared during the active stage of the project?" id="SharingPlatForms" class="form-control">@Model.dataSharing.SharingPlatForms</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="How will data be shared during the active stage of the project?" id="SharingPlatForms" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end of Data Access and Sharing page-->

                            <div class="tab-pane" id="DataDocumentationManagementAndEntry">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Data Documentation Management and Entry</b>
                                </h4>
                                <hr />
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label" for="StoredDocumentationAndDataDescriptors">Stored Documentation and Data Descriptors</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Do you have any documentation that will accompany any data to help secondary users understand and reuse it? Describe"><i class="icon-help"></i></button>
                                        <div class="col-sm-6">
                                            @if (Model.dataDocMgt != null)
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have any documentation that will accompany any data to help secondary users understand and reuse it? Describe" id="StoredDocumentationAndDataDescriptors" class="form-control">@Model.dataDocMgt.StoredDocumentationAndDataDescriptors</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have any documentation that will accompany any data to help secondary users understand and reuse it? Describe" id="StoredDocumentationAndDataDescriptors" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-4 control-label" for="NamingStructureAndFilingStructures">Naming Structure and Filing Structures</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Do you have a specific filing structure in-place? Describe the file and folder, naming conventions and systems, codes labellings and/or identifiers"><i class="icon-help"></i></button>
                                        <div class="col-sm-6">
                                            @if (Model.dataDocMgt != null)
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have a specific filing structure in-place? Describe the file and folder, naming conventions and systems, codes labellings and/or identifiers " id="NamingStructureAndFilingStructures" class="form-control">@Model.dataDocMgt.NamingStructureAndFilingStructures</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have a specific filing structure in-place? Describe the file and folder, naming conventions and systems, codes labellings and/or identifiers " id="NamingStructureAndFilingStructures" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- end of Data Documentation Management and Entry page-->

                            <div class="tab-pane" id="PostProjectDataRetentionSharingAndDestruction">
                                <h4 class="panel-title" style="margin-left: 70px;">
                                    <b>Post Project Data Retention Sharing and Destruction</b>
                                </h4>
                                <hr />
                                <div class="form-horizontal">
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="DataToRetain">Data To Retain</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Have you thought about a long term archive for your data? Indicate archiving processes Describe "><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (Model.ppData != null)
                                            {
                                            <textarea type="text" placeholder="Have you thought about a long term archive for your data? Indicate archiving processes Describe" rows="4" id="DataToRetain" class="form-control">@Model.ppData.DataToRetain</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Have you thought about a long term archive for your data? Indicate archiving processes Describe" rows="4" id="DataToRetain" class="form-control"></textarea>
                                            }
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="PreExistingData">Pre-Existing Data</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="How long do curators/agencies of pre-existing data intend data to be archieved for?  If applicable describe"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (@Model.ppData != null)
                                            {
                                            <textarea type="text" placeholder="How long do curators/agencies of pre-existing data intend data to be archieved for?  If applicable describe" rows="4" id="PreExistingData" class="form-control">@Model.ppData.PreExistingData</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="How long do curators/agencies of pre-existing data intend data to be archieved for?  If applicable describe" rows="4" id="PreExistingData" class="form-control"></textarea>
                                            }

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="Duration">Duration</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Do you have a specified duration for data retention? How will the data be destroyed if applicable? Describe"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (@Model.ppData != null)
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have a specified duration for data retention? How will the data be destroyed if applicable? Describe" id="Duration" class="form-control">@Model.ppData.Duration</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" rows="4" placeholder="Do you have a specified duration for data retention? How will the data be destroyed if applicable? Describe" id="Duration" class="form-control"></textarea>
                                            }

                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="Licensing">Licensing</label>
                                        <button type="button" class="btn btn-black btn-outline btn-sm" title="Under what licensing will you share the data? If applicable describe"><i class="icon-help"></i></button>
                                        <div class="col-sm-7">
                                            @if (@Model.ppData != null)
                                            {
                                            <textarea type="text" placeholder="Under what licensing will you share the data? If applicable describe" id="Licensing" class="form-control">@Model.ppData.Licensing</textarea>
                                            }
                                            else
                                            {
                                            <textarea type="text" placeholder="Under what licensing will you share the data? If applicable describe" id="Licensing" class="form-control"></textarea>
                                            }

                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default" id="DigitalDataRetention">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Digital Data Retention</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="DataRetention">Data Retention</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Indicate storage type,  repository name, location and estimated cost of archiving"><i class="icon-help"></i></button>
                                                <div class="col-sm-7">
                                                    @if (@Model.ppData != null)
                                                    {
                                                    <textarea type="text" placeholder="Indicate storage type,  repository name, location and estimated cost of archiving" id="DataRetention" class="form-control">@Model.ppData.DigitalDataRetention.DataRetention</textarea>
                                                    }
                                                    else
                                                    {
                                                    <textarea type="text" placeholder="Indicate storage type,  repository name, location and estimated cost of archiving" id="DataRetention" class="form-control"></textarea>
                                                    }

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--end of digital data retention-->

                                <div class="panel panel-default" id="NonDigitalDataRetention">
                                    <div class="panel-heading clearfix">
                                        <h4 class="panel-title">Non Digital Data Retention</h4>
                                    </div>
                                    <div class="panel-body">
                                        <div class="form-horizontal">
                                            <div class="form-group">
                                                <label class="col-sm-3 control-label" for="nonDigitalDataRetention">Data Retention</label>
                                                <button type="button" class="btn btn-black btn-outline btn-sm" title="Indicate storage type,  repository name, location and estimated cost of archiving"><i class="icon-help"></i></button>
                                                <div class="col-sm-7">
                                                    @if (@Model.ppData != null)
                                                    {
                                                    <textarea type="text" placeholder="Indicate storage type,  repository name, location and estimated cost of archiving" id="nonDigitalDataRetention" class="form-control">@Model.ppData.NonDigitalRentention.DataRention</textarea>
                                                    }
                                                    else
                                                    {
                                                    <textarea type="text" placeholder="Indicate storage type,  repository name, location and estimated cost of archiving" id="nonDigitalDataRetention" class="form-control"></textarea>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--End of non digital data rentention-->
                            </div>
                            <!-- end of Post Project Data Retention Sharing and Destruction page-->


                            <ul class="pager wizard">
                                <li class="previous"><a href="javascript:void(0)"><i class="icon-left-open"></i>Previous</a></li>
                                <li id="nextbtn" class="next"><a id="SaveNext" href="javascript:void(0)">Save and Next<i class="icon-right-open"></i></a> </li>
                                <li id="finish" style="float: right;" class="removeVisibility">
                                    <a id="finishbtn" href="javascript:void(0)">
                                        Finish and Preview<i class="icon-right-open"></i>
                                    </a>
                                    <img id="finishSpinner" style=" display:none" class="center" src="~/images/spinner.gif" width="36">
                                </li>
                            </ul>                            
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" style="width: 400px;" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Message</h4>
            </div>
            <div class="modal-body">

                Not allowed
            </div>
        </div>
    </div>
</div>


@section Scripts
{
    @*@Scripts.Render("~/bundles/CreateDMPJs")*@
@Scripts.Render("~/bundles/MultiDatePickerCss")

 

    <script>
        $(document).ready(function () {

            base64Image = '@Model.DataFlowChart';
            if(base64Image !=undefined){
                BindPureBase64StringToControl($('#FlowChartimageURL'), base64Image)
            }

            //used for page load
            var EthicalApprovalForTheProject = $("#EthicalApprovalForTheProject")[0].value
            if (EthicalApprovalForTheProject == "No") {
                $("#EthicalApprovalDiv").hide()
            }


            $('#PhoneNumberOfAuthor,#PhonenumberofApprover').keypress(function (key) {
                if (key.charCode < 48 || key.charCode > 57)
                    if (key.charCode != 43) {
                        $('#my_modal').on('show.bs.modal', function (e) {
                            $('#warningbox').val('invalid input');
                        });
                        $('#myModal').modal('show');
                        return false;
                    }
            });

            $("input").attr("autocomplete", "off");

            var updateUrl;
            var documentID = '@Model.documentID';

            if (documentID == "") {
                updateUrl = '@Url.Action("SaveNext", "DMPDocument")';
            }
            else {
                updateUrl = '@Url.Action("EditDocumentNext", "DMPDocument")'
            }

            function SaveAndContinue(e) {
                $("#loadImg").show();

                var formdata = $('#rootwizard-2')[0].elements;
                var viewModel = {};
                $.each(formdata, function (name, formElements) {
                    viewModel[formElements.id] = formElements.value;
                });
                viewModel["documentID"] = documentID;
                if (base64Image != undefined) {
                    viewModel["DataFlowChart"] = base64Image;
                }
                viewModel["reportDataList"] = reportArray; 
                viewModel["Trainings"] = trainingArray; 
                viewModel["DataCollection"] = datacollectionArray; 
                viewModel["dataVerification"] = DataVerificationArray; 
                
                $.ajax({
                    type: "POST",
                    url: updateUrl,
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify(viewModel),
                    dataType: 'json',
                    cache: false,
                }).done(function (result) {
                    

                    if (result != undefined && result.documentId != undefined) {
                        documentID = result.documentId;
                        updateUrl = '@Url.Action("EditDocumentNext", "DMPDocument")'
                    }
                    if (e.currentTarget.id === "finishbtn") {
                        window.location.href = "/DocumentViewer/DocumentPreview?documnentId="+documentID;
                    }
                    var nxtcss = $("#nextbtn").attr('class');
                    if (nxtcss === "next disabled") {
                        $("#finish").removeClass("removeVisibility");
                    }
                    $("#loadImg").hide();
                }).error(function (xhr, status, err) {
                    $("#loadImg").hide();
                    alert(err);
                    console.log(err);
                });
            }

            $("#SaveNext,#finishbtn").click(function (e, n) { 
                if (e.currentTarget.id === "finishbtn") {
                    $("#finishSpinner").show();
                }
                SaveAndContinue(e);
        });

        $('#TimelinesForReporting').multiDatesPicker();
        $("#DataCollectionTimelines").multiDatesPicker();
        $("#TimelinesForTrainings").multiDatesPicker();
        $("#TimelinesForDataVerification").multiDatesPicker();

        

        $("#ProjectStartDate").multiDatesPicker({maxPicks: 1,
           // addDates: [new Date(@Model.projectDetails.ProjectStartDate)]
        });
        $("#ProjectEndDate").multiDatesPicker({maxPicks: 1,
           // addDates: [new Date(@Model.projectDetails.ProjectEndDate)]
            });
             
        });
    </script>

<script src="~/Scripts/ReportTableLogic.js"></script>
<script src="~/Scripts/datacollectionTableLogic.js"></script>
<script src="~/Scripts/dataverificationTableLogic.js"></script>
<script src="~/Scripts/trainingreportTableLogic.js"></script>
}
