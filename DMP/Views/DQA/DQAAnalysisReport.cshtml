@model List<DQA.DAL.Model.dqaQ1Fy17Analysis>
@{
    Layout = "~/Views/Shared/DQAFY2017Q1Layout.cshtml";
}

@section AddToHead{
    <style>
        .title {
            font-weight: 600;
            color: #000;
            padding-left: 10px;
        }

        table.dataTable tbody th, table.dataTable tbody td {
            padding: 0px 10px;
        }

        .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
            padding: 1px;
            line-height: 1.42857143;
            vertical-align: middle;
        }

        .table td {
            text-align: center;
        }

        .table th {
            text-align: center;
        }

        table.dataTable > thead > tr > th, table.dataTable th {
            position: initial;
        }

        th.rotate {
            /* Something you can count on */
            height: 140px;
            white-space: nowrap;
        }

            th.rotate > div {
                transform: translate(25px, 51px) rotate(270deg);
                width: 10px;
                margin-right: 10px;
            }
    </style>
}

<h4 style="text-align: center;"> FY 2017 Q1 DQA Analysis </h4> 
    <div class="col-md-9">
        <div class="table-responsive" style="overflow-x: initial;font-size: 11px;">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th style="background-color:steelblue; color:#fff; font-weight:bold">IP </th>
                        <th style="background-color:steelblue; color:#fff; font-weight:bold">Facility</th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black;"><div>DQA FY17 Q1 <br /> (HTC_TST)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated <br /> (HTC_TST)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (HTC_TST)</div></th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black"><div>DQA FY17 Q1 <br /> (PMTCT_STAT)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated<br /> (PMTCT_STAT</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (PMTCT_STAT)</div></th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black"><div>DQA FY17 Q1<br /> (PMTCT_EID)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated<br /> (PMTCT_EID)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (PMTCT_EID)</div></th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black"><div>DQA FY17 Q1<br /> (PMTCT_ARV)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated<br /> (PMTCT_ARV)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (PMTCT_ARV)</div></th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black"><div>DQA FY17 Q1<br /> (TX_NEW)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated<br /> (TX_NEW)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (TX_NEW)</div></th>

                        <th class="rotate" style="color:black;font-weight:bold; border-left-width:medium;border-left-color:black"><div>DQA FY17 Q1<br /> (TX_CURR)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Validated<br /> (TX_CURR)</div></th>
                        <th class="rotate" style="color:black;font-weight:bold;"><div>Concurrence<br /> (TX_CURR)</div></th>

                        <th class="rotate" style="background-color:steelblue; color:#fff; font-weight:bold"><div>Count Fails</div></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.IP</td>
                            <td>@item.Facility</td>

                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_HTC_TST</td>
                            <td>@item.Validated_HTC_TST</td>
                            @if (string.IsNullOrEmpty(item.CR_HTC_TST) || string.IsNullOrEmpty(item.CR_HTC_TST.Trim()))
                            {
                                <td>@item.CR_HTC_TST</td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_HTC_TST) > 89 && Convert.ToDouble(item.CR_HTC_TST) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_HTC_TST %</td>
                            }


                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_PMTCT_STAT</td>
                            <td>@item.Validated_PMTCT_STAT</td>
                            @if (string.IsNullOrEmpty(item.CR_PMTCT_STAT) || string.IsNullOrEmpty(item.CR_PMTCT_STAT.Trim()))
                            {
                                <td></td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_PMTCT_STAT) > 89 && Convert.ToDouble(item.CR_PMTCT_STAT) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_PMTCT_STAT %</td>
                            } 

                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_PMTCT_EID</td>
                            <td>@item.Validated_PMTCT_EID</td>
                            @if(string.IsNullOrEmpty(item.CR_PMTCT_EID) || string.IsNullOrEmpty(item.CR_PMTCT_EID.Trim()))
                            {
                                <td></td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_PMTCT_EID) > 89 && Convert.ToDouble(item.CR_PMTCT_EID) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_PMTCT_EID %</td>
                            }                            

                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_PMTCT_ARV</td>
                            <td>@item.Validated_PMTCT_ARV</td>
                            @if(string.IsNullOrEmpty(item.CR_PMTCT_ARV) || string.IsNullOrEmpty(item.CR_PMTCT_ARV.Trim()))
                            {
                                <td></td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_PMTCT_ARV) > 89 && Convert.ToDouble(item.CR_PMTCT_ARV) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_PMTCT_ARV %</td>
                            }                           

                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_TX_NEW</td>
                            <td>@item.Validated_TX_NEW</td>
                            @if(string.IsNullOrEmpty(item.CR_TX_NEW) || string.IsNullOrEmpty(item.CR_TX_NEW.Trim()))
                            {
                                <td></td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_TX_NEW) > 89 && Convert.ToDouble(item.CR_TX_NEW) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_TX_NEW %</td>
                            }

                            <td style="border-left-width:medium;border-left-color:black">@item.DQA_FY17Q1_TX_CURR</td>
                            <td>@item.Validated_TX_CURR</td>
                            @if(string.IsNullOrEmpty(item.CR_TX_CURR) || string.IsNullOrEmpty(item.CR_TX_CURR.Trim()))
                            {
                                <td></td>
                            }
                            else
                            {
                                <td style=@(Convert.ToDouble(item.CR_TX_CURR) > 89 && Convert.ToDouble(item.CR_TX_CURR) < 110 ? "background-color:limegreen;color:#fff" : "background-color:red;color:#fff")>@item.CR_TX_CURR %</td>
                            }

                            <td>@item.Count_Fails</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div> 
    </div> 



@section Scripts
{  
    <script>
        $(document).ready(function () {
            $('.table').DataTable({
                "iDisplayLength": 100 
            })
        })
    </script>
}